;(function($,window){var controlContainer='<div id="yt-control"><span class="tubular-play yt-btn fa-fa-play-outline"></span><span class="tubular-pause yt-btn fa-fa-pause-outline"></span><span class="tubular-mute yt-btn ion-volume-high"></span></div>';$('.tubular-play').css({display:'none'});$('#yt-control').css({position:'fixed',left:0,top:0,width:'80px',height:'40px',zIndex:3,backgroundColor:'#222'});$('.yt-btn').css({position:'absolute',left:'20px',top:'10px',fontSize:'20px',height:'20px',width:'20px',cursor:'pointer',color:'#888'});$('.tubular-mute').css({left:'50px'});var defaults={ratio:16/9,videoId:'ZCAnLxRvNNc',mute:true,repeat:true,width:$(window).width(),wrapperZIndex:99,playButtonClass:'tubular-play',pauseButtonClass:'tubular-pause',muteButtonClass:'tubular-mute',volumeUpClass:'tubular-volume-up',volumeDownClass:'tubular-volume-down',increaseVolumeBy:10,start:0};var tubular=function(node,options){var options=$.extend({},defaults,options),$body=$('#background-effect')
$node=$(node);var tubularContainer='<div id="tubular-container" style="overflow: hidden; position: fixed; z-index: 1; width: 100%; height: 100%"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>';$body.append(tubularContainer);window.player;window.onYouTubeIframeAPIReady=function(){player=new YT.Player('tubular-player',{width:options.width,height:Math.ceil(options.width/options.ratio),videoId:options.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:'transparent'},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});}
window.onPlayerReady=function(e){resize();if(options.mute)e.target.mute();e.target.seekTo(options.start);e.target.playVideo();}
window.onPlayerStateChange=function(state){if(state.data===0&&options.repeat){player.seekTo(options.start);}}
var resize=function(){var width=$(window).width(),pWidth,height=$(window).height(),pHeight,$tubularPlayer=$('#tubular-player');if(width/options.ratio<height){pWidth=Math.ceil(height*options.ratio);$tubularPlayer.width(pWidth).height(height).css({left:(width- pWidth)/ 2, top: 0}); // player width is greater, offset left; reset top
}else{pHeight=Math.ceil(width/options.ratio);$tubularPlayer.width(width).height(pHeight).css({left:0,top:(height- pHeight)/ 2}); // player height is greater, offset top; reset left
}}
$(window).on('resize.tubular',function(){resize();})
$('body').on('click','.'+ options.playButtonClass,function(e){e.preventDefault();player.playVideo();}).on('click','.'+ options.pauseButtonClass,function(e){e.preventDefault();player.pauseVideo();}).on('click','.'+ options.muteButtonClass,function(e){e.preventDefault();(player.isMuted())?player.unMute():player.mute();}).on('click','.'+ options.volumeDownClass,function(e){e.preventDefault();var currentVolume=player.getVolume();if(currentVolume<options.increaseVolumeBy)currentVolume=options.increaseVolumeBy;player.setVolume(currentVolume- options.increaseVolumeBy);}).on('click','.'+ options.volumeUpClass,function(e){e.preventDefault();if(player.isMuted())player.unMute();var currentVolume=player.getVolume();if(currentVolume>100- options.increaseVolumeBy)currentVolume=100- options.increaseVolumeBy;player.setVolume(currentVolume+ options.increaseVolumeBy);})}
var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);$.fn.tubular=function(options){return this.each(function(){if(!$.data(this,'tubular_instantiated')){$.data(this,'tubular_instantiated',tubular(this,options));}});}
$('.tubular-mute').on('click',function(){var mute=player.isMuted();if(!mute){$('.tubular-mute').removeClass('ion-volume-high').addClass('ion-android-volume-mute');}});$('.tubular-mute').on('click',function(){var mute=player.isMuted();if(mute){$('.tubular-mute').removeClass('ion-android-volume-mute').addClass('ion-volume-high');}});$('.tubular-pause').on('click',function(){$(this).css('display','none');$('.tubular-play').css('display','inline');});$('.tubular-play').on('click',function(){$(this).css('display','none');$('.tubular-pause').css('display','inline');});})(jQuery,window);